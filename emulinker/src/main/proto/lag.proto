// How to use protos: https://protobuf.dev/programming-guides/editions
edition = "2023";

package org.emulinker.proto;

option java_multiple_files = true;

enum Player {
  ONE = 0;
  TWO = 1;
  THREE = 2;
  FOUR = 3;
}

message Event {
  // Number of nanoseconds from an arbitrary point of time in the past.
  // This can be used to check elapsed time between events events for
  // a single game, but not necessarily between events in different games.
  int64 timestamp_ns = 1;

  message ReceivedGameData {
    Player received_from = 1;
  }

  message FanOut {
  }

  oneof event_type {
    ReceivedGameData received_game_data = 2;
    FanOut fan_out = 3;
  }
}

// All metadata stored about the game.
message GameLog {
  repeated Event events = 1;
}
